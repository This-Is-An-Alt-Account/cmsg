{% extends "base.html" %}

{% block extrahead %}
  {{ super() }}
  <style>
    .dev-banner {
      background-color: #ff0000 !important;
      color: white !important;
      text-align: center;
      font-size: .8rem;
      font-weight: bold;
      padding: 10px;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 1000;
      border-bottom: 2px solid black;
    }
    .dev-banner a {
      text-decoration: underline;
    }
  </style>
  <script>
    window.addEventListener('DOMContentLoaded', (event) => {
      // If on the dev site...
      if (window.location.pathname.includes('/dev/')) {
        // Add warning banner.
        const banner = document.createElement('div');
        banner.className = 'dev-banner';
        banner.innerHTML = 'WARNING! - You are viewing the development version of this site. You should not use anything on this page unless you meant to be here. <a href="/">Click here</a> to go back to the main page. <button onclick="this.parentElement.remove();">Close</button>';
        document.body.prepend(banner);

        // Ajdust body padding based off dev warning above.
        const adjustBodyPadding = () => {
          const bannerHeight = banner.offsetHeight;
          document.body.style.paddingTop = `${bannerHeight}px`;
        };

        adjustBodyPadding();
        window.addEventListener('resize', adjustBodyPadding);
      }
    });
  </script>
{% endblock %}
